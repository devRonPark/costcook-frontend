# 🍽️ 코스트쿡 프론트엔드

> **주간 식비 예산을 기반으로 레시피를 추천하는 서비스**

## 📅 개발 기간  
**2024.09.30 ~ 2024.11.07**  

## ✨ 주요 기능 소개

### 1️⃣ 레시피 별 1인분 기준 가격 정보 제공  
- 영양 정보 없이 **1인분 기준 예상 가격**을 확인할 수 있습니다.  

### 2️⃣ 인기 레시피 제공  
- **조회수, 평점, 즐겨찾기 수**를 기반으로 인기 레시피를 제공합니다.  
- 카테고리 필터 및 북마크 수 정렬 기능은 제공되지 않습니다.  

### 3️⃣ 맞춤형 레시피 추천  
- 사용자의 **선호 재료 및 비선호 재료 정보를 반영**하여 개인화된 레시피를 추천합니다.  

---

## 🛠️ 기술 스택

### 📌 프론트엔드
- **React, JavaScript, Vite**
- **React Router**: 클라이언트 사이드 라우팅  
- **Styled-components, Emotion**: 스타일링  
- **MUI**: UI 컴포넌트 라이브러리  
- **Framer Motion**: 애니메이션 효과  
- **Swiper**: 슬라이드 UI  
- **React-Toastify**: 알림 메시지  
- **React-Dropzone**: 파일 업로드  

### 📌 상태 관리
- **React Context**: 전역 상태 관리  
- **React Cookie**: 사용자 인증 상태 유지  

### 📌 API 및 유틸
- **Axios**: HTTP 통신  
- **Date-fns, Moment**: 날짜 및 시간 관리  
- **Dompurify**: XSS 방지를 위한 HTML Sanitization  
- **JWT-decode**: JWT 토큰 디코딩  
- **UUID**: 고유 식별자 생성  

---

## 📂 프로젝트 구조  

```plaintext
📦 costcook-frontend  
 ┣ 📂 public            # 정적 리소스 (이미지, 폰트, favicon 등)  
 ┣ 📂 src  
 ┃ ┣ 📂 components      # 재사용 가능한 UI 컴포넌트  
 ┃ ┣ 📂 hooks           # 커스텀 훅 정의  
 ┃ ┣ 📂 layouts         # 페이지 레이아웃 구성  
 ┃ ┣ 📂 pages           # 개별 페이지 컴포넌트  
 ┃ ┣ 📂 routes          # 라우팅 관련 설정  
 ┃ ┣ 📂 services        # API 요청 및 비즈니스 로직 처리  
 ┃ ┣ 📂 store           # 상태 관리 관련 코드 (예: Redux, Zustand)  
 ┃ ┣ 📂 styles          # 글로벌 스타일 및 테마 설정  
 ┃ ┗ 📂 utils           # 공통 유틸리티 함수  
```
---

## 🎬 주요 기능 데모

### 📌 레시피 목록 및 상세 정보
![레시피 목록, 상세](https://github.com/user-attachments/assets/9674ed97-5825-4a6e-a293-9a0e4bd3b39b)
- 하단 네비게이션의 전체 레시피 아이콘 클릭 시 목록 페이지로 이동합니다.
- 무한 스크롤 기능으로 한 번에 6개씩 추가 로드됩니다.
- 각 레시피 카드를 클릭하면 상세 페이지로 이동합니다.

### 📌 레시피 추천
![레시피 추천](https://github.com/user-attachments/assets/f1467554-045e-4b6b-880d-a72d48af4180)
- 예산 설정 후 "추천받기" 버튼을 누르면 해당 금액대의 레시피를 추천합니다.
- 선택한 레시피는 차감된 예산으로 반영되며, 메인 페이지에서 확인 가능합니다.
- 추천된 레시피에서 "먹었어요" 또는 "안먹었어요" 버튼을 눌러 기록을 관리할 수 있습니다.

### 📌 레시피 검색
![레시피 검색](https://github.com/user-attachments/assets/1c5656d2-b058-49e0-8c67-88d894aaa091)
- 검색어 입력 시, 관련 레시피 및 해당 재료가 포함된 레시피를 검색합니다.
- 최근 검색어 저장 및 삭제 기능을 제공합니다.

### 📌 레시피 즐겨찾기
![즐겨찾기](https://github.com/user-attachments/assets/2fb66339-8426-47b8-8615-d67d4a09f069)
- 하단 네비게이션의 즐겨찾기 아이콘 클릭 시 즐겨찾기 목록으로 이동합니다.
- 레시피 카드 및 상세 페이지에서 하트 아이콘을 클릭하여 즐겨찾기를 추가/제거할 수 있습니다.

### 📌 레시피 리뷰
![리뷰](https://github.com/user-attachments/assets/8d203189-daf1-4efb-af36-3deeb53f7922)
- 로그인한 사용자만 별점 및 리뷰를 작성할 수 있습니다.
- 작성한 리뷰는 최상단에 표시되며, 최신순으로 정렬됩니다.

### 📌 예산 관리
![예산 관리](https://github.com/user-attachments/assets/b669f81d-fe2f-44f5-9007-cb0399092e12)
- 로그인한 사용자만 이용 가능하며, 주간 예산과 사용 금액을 비교할 수 있습니다.
- 요리한 레시피 목록을 기반으로 예산 진행도를 확인할 수 있습니다.

---

## 🛠️ 관리자 페이지

### 🔹 레시피 등록
![관리자 레시피 등록](https://github.com/user-attachments/assets/9b68b93c-dec7-43b1-a84d-2eaefbbde12b)
- 새로운 레시피를 등록하고, 중복 여부를 확인할 수 있습니다.
- DB에 없는 재료는 새롭게 추가하여 등록 가능합니다.

### 🔹 레시피 수정 및 삭제
![관리자 레시피 수정, 삭제](https://github.com/user-attachments/assets/8f5bc5ef-82a8-4f0c-8688-461471d3f95d)
- 연필 아이콘 클릭 시 레시피 수정, 휴지통 아이콘 클릭 시 레시피 삭제가 가능합니다.

---

## ⚡ 프로젝트 실행 방법

> 본 프로젝트는 **Vite**로 구동됩니다.

```bash
# 1. 저장소 클론
git clone https://github.com/your-repo/costcook-frontend.git

# 2. 프로젝트 디렉토리 이동
cd costcook-frontend

# 3. 패키지 설치
npm install

# 4. 개발 서버 실행 (Vite 사용)
npm run dev
```

## 🔹 주요 이슈 및 해결

### 🛑 이슈: 인피니트 스크롤의 무한 요청 문제
- **문제:** 마지막 페이지에서도 추가 데이터를 계속 요청하는 문제 발생  
- **원인:** 페이지 끝 여부 확인 부족, 로딩 상태 미관리로 인한 중복 요청  
- **해결 방법:**  
  1. 마지막 페이지 여부를 체크하여 추가 요청 차단  
  2. 로딩 상태를 확인하여 중복 요청 방지  

[👉 자세한 해결 방법 보기](https://www.notion.so/React-1304b7e536fc802088bce37bef01c5a1?pvs=4)

---

### 🛑 이슈: `dangerouslySetInnerHTML` 사용으로 인한 XSS 보안 취약점
- **문제:** API 응답 데이터를 그대로 렌더링할 경우, 악성 스크립트 삽입 가능  
- **원인:** HTML 정화 없이 직접 렌더링  
- **해결 방법:**  
  1. `DOMPurify`를 활용하여 HTML 정화  
  2. 정화된 HTML만 `dangerouslySetInnerHTML`로 렌더링  

[👉 자세한 해결 방법 보기](https://www.notion.so/API-XSS-1314b7e536fc8080a8aece4bfb1bf5c4?pvs=4)

### 🛑 이슈: 닉네임 입력과 중복 확인 버튼 동기화 문제  
- **문제:** 닉네임 입력 시 **중복 확인, 버튼 활성화, 에러 메시지 처리**가 복잡하게 얽힘  
- **원인:** 상태 변화 시점이 맞지 않아 **버튼과 에러 메시지가 비정상적으로 동작**  
- **해결 방법:**  
  1. **`useEffect`를 활용하여 입력 값 검증 및 상태 업데이트**  
  2. **조건부 렌더링을 사용하여 버튼 활성화 및 에러 메시지 표시**  
  3. **중복 확인 요청이 끝난 후 결과에 따라 버튼과 에러 메시지 동기화** 

[👉 자세한 해결 방법 보기](https://www.notion.so/UI-1364b7e536fc80f78737f9bfebca4fe5?pvs=4)

### 🛑 이슈: 레시피 검색 기능 개선  

- **문제**  
  - 검색 결과 페이지의 URL이 고정되어 있어 공유할 수 없음  
  - 브라우저 새로고침 시 검색어가 초기화됨  
  - 검색 엔진이 검색어를 인식하지 못해 SEO에 불리함  

- **원인**  
  - 검색어를 **상태(state)로만 관리**하여 URL에 반영되지 않음  
  - 검색어를 저장하지 않아 **페이지 이동이나 새로고침 시 초기화**됨  

- **해결 방법**  
  - 검색어를 URL에 포함하는 방식으로 변경 (`/search?keyword={검색어}` 형태)  
  - React Router의 `useNavigate`와 `useSearchParams` 훅을 활용하여 검색어를 URL에서 추출 및 관리  
  - 최근 검색어 저장 기능 추가로 사용자 편의성 향상  

[👉 자세한 해결 방법 보기](https://www.notion.so/13a4b7e536fc8019a2ddfc2d7d261716?pvs=4)

